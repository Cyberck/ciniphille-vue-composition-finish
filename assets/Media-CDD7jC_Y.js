import{l as u,r as g,b as f,o as c,c as _,e as v,u as h,i as y,f as n,t as m,a as d,A as x,F as $,m as k,d as b,w,p as S,q as I,s as B,B as D,C as F,D as M,L as R}from"./index-76GLZNNC.js";const T={class:"main__intro"},z={alt:"",class:"main__intro-poster"},A={class:"main__intro-block"},U={class:"main__intro-block-left"},C={class:"main__intro-block-left-title"},L={class:"main__intro-block-left-text"},N={class:"main__intro-block-left-descr"},O={class:"main__intro-block-right"},Y={alt:"",class:"main__intro-block-right-img"},j={class:"main__intro-actors"},V={__name:"Intro",props:{type:String,item:Object},setup(t){const e=t,s=u(()=>new Date(e.item.release_date).getFullYear()||new Date(e.item.first_air_date).getFullYear()+" "),o=u(()=>e.item.genres.reduce((i,r)=>i?i+", "+r.name:r.name,null)),a=u(()=>{if(e.type==="tv"&&e.item.episode_run_time.length==0)return"";let i=e.type==="movie"?e.item.runtime:e.type==="tv"?e.item.episode_run_time[0]:"";if(i==="")return"";let r=Math.floor(i/60),l=i%60;return r===0?`${l}m`:`${r}h ${l}m`});return(i,r)=>{const l=g("Trailer"),p=f("lazy");return c(),_("div",T,[v(n("img",z,null,512),[[p,h(y)+t.item.poster_path]]),n("div",A,[n("div",U,[n("h1",C,m(t.item.title||t.item.name),1),n("p",L,m(t.item.overview||"No description"),1),n("p",N,[n("span",null,m(s.value)+m(o.value),1),n("span",null,m(a.value),1)]),d(l)]),n("div",O,[v(n("img",Y,null,512),[[p,h(y)+t.item.backdrop_path]])]),n("div",j,[r[0]||(r[0]=n("h2",{class:"main__intro-actors-title"},"In the main roles",-1)),d(x,{type:t.type,id:t.item.id,count:"6"},null,8,["type","id"])])])])}}},q={class:"main__info"},E={class:"main__info-item-name"},G={class:"main__info-item-text"},K={__name:"Info",props:{item:Object},setup(t){const e=t,s=u(()=>[{name:"Budget",text:e.item.budget?"$"+e.item.budget:"Unknown"},{name:"Fees",text:e.item.revenue?"$"+e.item.revenue:"Unknown"},{name:"Status",text:e.item.status},{name:"Original title",text:e.item.original_title||e.item.original_name}]);return(o,a)=>(c(),_("div",q,[(c(!0),_($,null,k(s.value,i=>(c(),_("div",{class:"main__info-item",key:i.name},[n("span",E,m(i.name),1),n("span",G,m(i.text),1)]))),128))]))}},H={class:"main__rec"},J={class:"container"},P={class:"main__rec-list"},Q={alt:"",class:"main__rec-list-item-img"},W={class:"main__rec-list-item-title"},X={__name:"Rec",props:{rec:Array,type:String},setup(t){return(e,s)=>{const o=g("router-link"),a=f("lazy");return c(),_("div",H,[n("div",J,[s[0]||(s[0]=n("h2",{class:"main__rec-title"},"Recommendations",-1)),n("div",P,[(c(!0),_($,null,k(t.rec,i=>(c(),b(o,{key:i.id,to:`/${t.type}/${i.id}`,class:"main__rec-list-item"},{default:w(()=>[v(n("img",Q,null,512),[[a,h(y)+i.backdrop_path]]),n("h2",W,m(i.name||i.title),1)]),_:2},1032,["to"]))),128))])])])}}},Z=S("rec",{state:()=>({url:"https://api.themoviedb.org/3/",recomMovie:null,recomTv:null}),actions:{async getRecom({type:t,id:e}){try{let s=await I.get(`${this.url}${t}/${e}/recommendations?api_key=${B}&language=en-US`);t=="movie"?this.recomMovie=s.data.results:t=="tv"&&(this.recomTv=s.data.results)}catch(s){console.error("An error occurred while retrieving information by ID."+s)}}}}),ee={key:0,class:"main__media"},ie={__name:"Media",props:{type:String},setup(t){const e=D(),s=Z(),o=F(),a=t;o.getItemId({type:a.type,id:e.params.id}),s.getRecom({type:a.type,id:e.params.id});const i=u(()=>a.type=="movie"?o.movie:a.type=="tv"?o.tv:""),r=u(()=>{let l=a.type=="movie"?s.recomMovie:a.type=="tv"?s.recomTv:"";if(l)return l.slice(0,4)});return M(()=>{o.movie=o.tv=null}),(l,p)=>i.value?(c(),_("div",ee,[d(V,{type:t.type,item:i.value},null,8,["type","item"]),d(K,{item:i.value},null,8,["item"]),d(X,{type:t.type,rec:r.value},null,8,["type","rec"])])):(c(),b(R,{key:1}))}};export{ie as _};
//# sourceMappingURL=Media-CDD7jC_Y.js.map
