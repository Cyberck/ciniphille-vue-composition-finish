{"version":3,"file":"Media-B8tzOWtA.js","sources":["../../src/components/Media/Intro.vue","../../src/components/Media/Info.vue","../../src/stores/rec.js","../../src/components/Media/Media.vue"],"sourcesContent":["<template>\n  <div class=\"main__intro\">\n    <img v-lazy=\"imgUrlFull + item.poster_path\" alt=\"\" class=\"main__intro-poster\">\n    <div class=\"main__intro-block\">\n      <div class=\"main__intro-block-left\">\n        <h1 class=\"main__intro-block-left-title\">{{ item.title || item.name }}</h1>\n        <p class=\"main__intro-block-left-text\">{{ item.overview || 'No description' }}</p>\n        <p class=\"main__intro-block-left-descr\">\n          <span>{{ getYear }}{{ getGenres }}</span>\n          <span>{{ getTime }}</span>\n        </p>\n        <Trailer/>\n      </div>\n      <div class=\"main__intro-block-right\">\n        <img v-lazy=\"imgUrlFull + item.backdrop_path\" alt=\"\" class=\"main__intro-block-right-img\">\n      </div>\n\n      <div class=\"main__intro-actors\">\n        <h2 class=\"main__intro-actors-title\">In the main roles</h2>\n        <Actors :type=\"type\" :id=\"item.id\" count=\"6\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n\nimport {imgUrlFull} from \"@/apiUrl.js\";\nimport {computed} from \"vue\";\nimport Actors from \"@/components/UI/Actors.vue\";\n\nconst props = defineProps({\n  type: String,\n  item: Object\n})\n\nconst getYear = computed(() => new Date( props.item.release_date).getFullYear() ||\n    new Date(props.item.first_air_date).getFullYear() + ' ');\n\nconst getGenres = computed(() =>\n    props.item.genres.reduce((acc, item) => acc ? acc + ', ' + item.name : item.name, null)\n);\n\nconst getTime = computed(() => {\n  if(props.type === 'tv' && props.item.episode_run_time.length == 0 ) {\n    return ''\n  }\n  let minutes =\n      props.type === 'movie' ? props.item.runtime :\n          props.type === 'tv' ? props.item.episode_run_time[0] : '';\n\n  if (minutes === '') return ''; // minutes bo'sh bo'lsa, hech narsa qaytmaydi.\n\n  let hours = Math.floor(minutes / 60); // Soatlar hisoblanadi.\n  let minute = minutes % 60; // Qolgan daqiqalar hisoblanadi.\n\n  if (hours === 0) {\n    return `${minute}m`; // Faqat daqiqalar.\n  } else {\n    return `${hours}h ${minute}m`; // Soat va daqiqalar.\n  }\n});\n\n\n</script>\n"," <template>\n  <div class=\"main__info\">\n    <div class=\"main__info-item\" v-for=\"item in info\" :key=\"item.name\">\n      <span class=\"main__info-item-name\">{{item.name}}</span>\n      <span class=\"main__info-item-text\">{{item.text}}</span>\n    </div>\n  </div>\n</template>\n\n<script setup>\n  import {computed} from \"vue\";\n  const props = defineProps({\n    item: Object\n  })\n\n  const info = computed(() => {\n    return [\n      {\n        name: 'Budget',\n        text: props.item.budget ? '$' + props.item.budget : 'Unknown'\n      },\n      {\n        name: 'Fees',\n        text: props.item.revenue ? '$' + props.item.revenue : 'Unknown'\n      },\n      {\n        name: 'Status',\n        text: props.item.status\n      },\n      {\n        name: 'Original title',\n        text: props.item.original_title || props.item.original_name\n      }\n    ]\n  })\n</script>\n","import axios from \"axios\";\nimport {defineStore} from \"pinia\";\nimport {apiKey} from \"@/apiUrl.js\";\n\nexport const useRec = defineStore('rec', {\n    state: () => ({\n        url: 'https://api.themoviedb.org/3/',\n        recomMovie: null,\n        recomTv: null\n    }),\n    actions: {\n        async getRecom({type, id}) {\n            try {\n                let res = await axios.get(`${this.url}${type}/${id}/recommendations?api_key=${apiKey}&language=en-US`)\n                if(type == 'movie') {\n                    this.recomMovie = res.data.results\n                } else if(type == 'tv') {\n                    this.recomTv = res.data.results\n                }\n            } catch (error) {\n                console.error(\"An error occurred while retrieving information by ID.\" + error);\n            }\n        }\n    }\n});\n","<template>\n  <div class=\"main__media\" v-if=\"item\">\n    <Intro :type=\"type\" :item=\"item\"/>\n    <Info :item=\"item\"/>\n    <Rec :type=\"type\" :rec=\"rec\"/>\n  </div>\n  <loader v-else/>\n</template>\n\n<script setup>\n\nimport Intro from \"@/components/Media/Intro.vue\";\nimport '@/components/Media/Media.scss';\nimport {useItemId} from \"@/stores/itemId.js\";\nimport { useRoute } from 'vue-router'\nimport {computed, onBeforeMount} from \"vue\";\nimport Loader from \"@/components/UI/Loader.vue\";\nimport Info from \"@/components/Media/Info.vue\";\nimport Rec from \"@/components/Media/Rec.vue\";\nimport {useRec} from \"@/stores/rec.js\";\n\nconst route = useRoute();\n\nconst recStore = useRec()\n\nconst itemStore = useItemId();\n\nconst props = defineProps({\n  type: String\n})\n\nitemStore.getItemId({type: props.type, id: route.params.id});\nrecStore.getRecom({type: props.type, id: route.params.id});\n\nconst item = computed(() => props.type == 'movie' ? itemStore.movie : props.type == 'tv' ? itemStore.tv : '')\n\nconst rec = computed(() => {\n  let array = props.type == 'movie' ? recStore.recomMovie : props.type == 'tv' ? recStore.recomTv : ''\n  if(array) {\n    return array.slice(0,4)\n  }\n})\n\nonBeforeMount(() => {\n  itemStore.movie = itemStore.tv = null\n})\n\n</script>\n"],"names":["props","__props","getYear","computed","getGenres","acc","item","getTime","minutes","hours","minute","info","useRec","defineStore","type","id","res","axios","apiKey","error","route","useRoute","recStore","itemStore","useItemId","rec","array","onBeforeMount"],"mappings":"ymBA+BA,MAAMA,EAAQC,EAKRC,EAAUC,EAAS,IAAM,IAAI,KAAMH,EAAM,KAAK,YAAY,EAAE,YAAa,GAC3E,IAAI,KAAKA,EAAM,KAAK,cAAc,EAAE,YAAa,EAAG,GAAG,EAErDI,EAAYD,EAAS,IACvBH,EAAM,KAAK,OAAO,OAAO,CAACK,EAAKC,IAASD,EAAMA,EAAM,KAAOC,EAAK,KAAOA,EAAK,KAAM,IAAI,CAC1F,EAEMC,EAAUJ,EAAS,IAAM,CAC7B,GAAGH,EAAM,OAAS,MAAQA,EAAM,KAAK,iBAAiB,QAAU,EAC9D,MAAO,GAET,IAAIQ,EACAR,EAAM,OAAS,QAAUA,EAAM,KAAK,QAChCA,EAAM,OAAS,KAAOA,EAAM,KAAK,iBAAiB,CAAC,EAAI,GAE/D,GAAIQ,IAAY,GAAI,MAAO,GAE3B,IAAIC,EAAQ,KAAK,MAAMD,EAAU,EAAE,EAC/BE,EAASF,EAAU,GAEvB,OAAIC,IAAU,EACL,GAAGC,CAAM,IAET,GAAGD,CAAK,KAAKC,CAAM,GAE9B,CAAC,6qBClDC,MAAMV,EAAQC,EAIRU,EAAOR,EAAS,IACb,CACL,CACE,KAAM,SACN,KAAMH,EAAM,KAAK,OAAS,IAAMA,EAAM,KAAK,OAAS,SACrD,EACD,CACE,KAAM,OACN,KAAMA,EAAM,KAAK,QAAU,IAAMA,EAAM,KAAK,QAAU,SACvD,EACD,CACE,KAAM,SACN,KAAMA,EAAM,KAAK,MAClB,EACD,CACE,KAAM,iBACN,KAAMA,EAAM,KAAK,gBAAkBA,EAAM,KAAK,aACtD,CACA,CACG,ywBC9BUY,EAASC,EAAY,MAAO,CACrC,MAAO,KAAO,CACV,IAAK,gCACL,WAAY,KACZ,QAAS,IACjB,GACI,QAAS,CACL,MAAM,SAAS,CAAC,KAAAC,EAAM,GAAAC,CAAE,EAAG,CACvB,GAAI,CACA,IAAIC,EAAM,MAAMC,EAAM,IAAI,GAAG,KAAK,GAAG,GAAGH,CAAI,IAAIC,CAAE,4BAA4BG,CAAM,iBAAiB,EAClGJ,GAAQ,QACP,KAAK,WAAaE,EAAI,KAAK,QACrBF,GAAQ,OACd,KAAK,QAAUE,EAAI,KAAK,QAE/B,OAAQG,EAAO,CACZ,QAAQ,MAAM,wDAA0DA,CAAK,CAC7F,CACA,CACA,CACA,CAAC,iFCHD,MAAMC,EAAQC,EAAU,EAElBC,EAAWV,EAAM,EAEjBW,EAAYC,EAAW,EAEvBxB,EAAQC,EAIdsB,EAAU,UAAU,CAAC,KAAMvB,EAAM,KAAM,GAAIoB,EAAM,OAAO,EAAE,CAAC,EAC3DE,EAAS,SAAS,CAAC,KAAMtB,EAAM,KAAM,GAAIoB,EAAM,OAAO,EAAE,CAAC,EAEzD,MAAMd,EAAOH,EAAS,IAAMH,EAAM,MAAQ,QAAUuB,EAAU,MAAQvB,EAAM,MAAQ,KAAOuB,EAAU,GAAK,EAAE,EAEtGE,EAAMtB,EAAS,IAAM,CACzB,IAAIuB,EAAQ1B,EAAM,MAAQ,QAAUsB,EAAS,WAAatB,EAAM,MAAQ,KAAOsB,EAAS,QAAU,GAClG,GAAGI,EACD,OAAOA,EAAM,MAAM,EAAE,CAAC,CAE1B,CAAC,EAED,OAAAC,EAAc,IAAM,CAClBJ,EAAU,MAAQA,EAAU,GAAK,IACnC,CAAC"}